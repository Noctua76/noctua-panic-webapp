<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Noctua Panic Web App</title>
  <style>
    :root{
      --bg:#03040a;
      --bg-soft:#0c0f18;
      --card:#11141f;
      --accent:#ff4b4b;
      --accent-soft:#ff8b6a;
      --text:#f5f5fa;
      --muted:#8e93a8;
      --border:#262a36;
      --radius:20px;
      --shadow:0 22px 50px rgba(0,0,0,.75);
      --max-width:460px;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html,body{
      height:100%;
      background:
        radial-gradient(circle at top,#202642 0,#03040a 55%);
      color:var(--text);
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    }

    body{
      display:flex;
      justify-content:center;
      align-items:stretch;
    }

    .app{
      width:100%;
      max-width:var(--max-width);
      min-height:100vh;
      padding:14px 14px 18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    /* ========== Header ========== */
    .app-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(5,7,15,.88);
      border:1px solid rgba(255,255,255,.04);
      backdrop-filter:blur(16px);
    }

    .header-left{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .logo{
      width:30px;
      height:30px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(circle at 30% 0%,#ffd27f 0,#ff9b6a 35%,#7849ff 70%,#0d1020 100%);
      box-shadow:0 0 0 1px rgba(255,255,255,.24);
      font-size:18px;
    }

    .header-text{
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .header-text span{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.14em;
      color:var(--muted);
    }

    .header-text strong{
      font-size:14px;
      letter-spacing:.06em;
    }

    .header-right{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:4px;
    }

    .status-pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      padding:4px 9px;
      border-radius:999px;
      background:rgba(16,204,129,.14);
      color:#a5f3c7;
      border:1px solid rgba(16,204,129,.5);
    }

    .status-dot{
      width:7px;
      height:7px;
      border-radius:50%;
      background:#22f29a;
      box-shadow:0 0 8px rgba(34,242,154,.9);
    }

    .header-time{
      font-size:11px;
      color:var(--muted);
    }

    /* ========== Main Layout ========== */
    .app-main{
      flex:1;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:18px;
    }

    .hint-text{
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }

    .hint-text strong{
      color:var(--text);
    }

    /* ========== ALERT PANEL ========== */
    .alert-panel{
      margin-top:4px;
      border-radius:26px;
      background:
        radial-gradient(circle at 0 0,rgba(255,255,255,.04),transparent 55%),
        radial-gradient(circle at 100% 100%,rgba(255,75,75,.18),transparent 55%),
        linear-gradient(145deg,#080914,#131627);
      padding:28px 18px 26px;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.02),
        0 28px 60px rgba(0,0,0,.9);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
      position:relative;
    }

    .alert-label{
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .alert-label span:first-child{
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--muted);
    }

    .alert-label strong{
      font-size:20px;
      letter-spacing:.18em;
      text-transform:uppercase;
    }

    .alert-description{
      font-size:12px;
      color:var(--muted);
    }

    /* Circle ALERT button */
    .alert-btn{
      width:150px;
      height:150px;
      border-radius:50%;
      border:none;
      cursor:pointer;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(circle at 30% 0%,#ffe4cf 0,#ff8b6a 40%,#ff4b4b 70%,#a6112b 100%);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.16),
        0 0 40px rgba(255,75,75,.72),
        0 26px 40px rgba(0,0,0,.9);
      color:#fff;
      text-transform:uppercase;
      font-weight:700;
      letter-spacing:.18em;
      font-size:14px;
      overflow:hidden;
    }

    .alert-btn::before{
      content:"";
      position:absolute;
      inset:-40%;
      background:radial-gradient(circle at 50% 0,rgba(255,255,255,.28),transparent 55%);
      opacity:.55;
      pointer-events:none;
    }

    .alert-btn:active{
      transform:scale(.97);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.18),
        0 0 24px rgba(255,75,75,.85),
        0 18px 30px rgba(0,0,0,.9);
    }

    .alert-note{
      font-size:11px;
      color:var(--muted);
      text-align:center;
    }

    /* ========== STATUS CARD ========== */
    .status-card{
      margin-top:6px;
      border-radius:var(--radius);
      background:var(--card);
      border:1px solid rgba(255,255,255,.05);
      padding:12px 14px;
      font-size:13px;
      display:flex;
      flex-direction:column;
      gap:8px;
      box-shadow:0 16px 40px rgba(0,0,0,.85);
    }

    .status-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    .status-header-left{
      display:flex;
      align-items:center;
      gap:8px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.08em;
      font-size:12px;
    }

    .status-pulse{
      width:10px;
      height:10px;
      border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 14px rgba(255,75,75,.9);
    }

    .status-badge{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      background:rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
    }

    .status-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:var(--muted);
      margin-top:6px;
    }

    .status-row strong{
      color:var(--text);
      font-size:13px;
    }

    .status-section{
      margin-top:8px;
      padding-top:8px;
      border-top:1px solid rgba(255,255,255,.05);
    }

    .status-section-title{
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:.08em;
      color:var(--muted);
      margin-bottom:4px;
    }

    .status-list{
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:3px;
    }

    .status-list li{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:13px;
      color:var(--text);
    }

    .status-pill-small{
      font-size:11px;
      padding:2px 7px;
      border-radius:999px;
      background:rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
    }

    /* ========== Modal ========== */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.78);
      display:flex;
      justify-content:center;
      align-items:center;
      z-index:30;
    }

    .modal{
      width:100%;
      max-width:360px;
      margin:0 18px;
      border-radius:24px;
      background:radial-gradient(circle at 0 0,rgba(255,75,75,.18),transparent 55%),#080a12;
      border:1px solid rgba(255,255,255,.09);
      box-shadow:0 26px 52px rgba(0,0,0,.95);
      padding:20px 20px 16px;
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .modal-icon{
      font-size:26px;
    }

    .modal-title{
      font-size:16px;
      font-weight:600;
    }

    .modal-text{
      font-size:13px;
      color:var(--muted);
    }

    .modal-countdown{
      font-size:20px;
      letter-spacing:.18em;
      margin-top:4px;
    }

    .modal-actions{
      margin-top:10px;
      display:flex;
      gap:10px;
    }

    .btn{
      flex:1;
      font-size:13px;
      padding:10px 8px;
      border-radius:999px;
      border:none;
      cursor:pointer;
    }

    .btn-secondary{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,.18);
    }

    .btn-primary{
      background:linear-gradient(145deg,var(--accent),var(--accent-soft));
      color:#fff;
      box-shadow:0 0 18px rgba(255,75,75,.8);
    }

    /* ========== Footer ========== */
    .app-footer{
      margin-top:10px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
    }

    .hidden{display:none !important;}

    @media (min-width:600px){
      .app{padding-top:20px;}
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="app-header">
      <div class="header-left">
        <div class="logo">ğŸ¦‰</div>
        <div class="header-text">
          <span>Noctua AI Systems</span>
          <strong>Panic Web App</strong>
        </div>
      </div>
      <div class="header-right">
        <div class="status-pill">
          <span class="status-dot"></span>
          <span>Online</span>
        </div>
        <div class="header-time">14:32</div>
      </div>
    </header>

    <!-- Main -->
    <main class="app-main">
      <p class="hint-text">
        <strong>ÎˆÏ„Î¿Î¹Î¼Î¿ Î³Î¹Î± Ï‡ÏÎ®ÏƒÎ·.</strong> Î Î±Ï„Î®ÏƒÏ„Îµ <strong>ALERT</strong> Î¼ÏŒÎ½Î¿ ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ®Ï‚ Î±Ï€ÎµÎ¹Î»Î®Ï‚.
      </p>

      <!-- Alert panel -->
      <section class="alert-panel">
        <div class="alert-label">
          <span>Panic Mode</span>
          <strong>ALERT</strong>
          <p class="alert-description">Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¬Î¼ÎµÏƒÎ·Ï‚ ÎµÎ¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ ÏƒÎµ 3 ÎµÏ€Î±Ï†Î­Ï‚ (ÎºÎ»Î®ÏƒÎµÎ¹Ï‚ + SMS).</p>
        </div>

        <button class="alert-btn" type="button">
          ALERT
        </button>

        <p class="alert-note">
          ÎœÎ¯Î± Ï†Î¿ÏÎ¬ ÎµÎ¯Î½Î±Î¹ Î±ÏÎºÎµÏ„Î® â€“ Ï„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î±Î½Î±Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Ï„Î± Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î±.
        </p>
      </section>

      <!-- Status card (default hidden) -->
      <section class="status-card hidden">
        <div class="status-header">
          <div class="status-header-left">
            <span class="status-pulse"></span>
            <span>Î£Ï…Î½Î±Î³ÎµÏÎ¼ÏŒÏ‚ ÎµÎ½ÎµÏÎ³ÏŒÏ‚</span>
          </div>
          <div class="status-badge">Live ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·</div>
        </div>

        <div class="status-row">
          <span>Î§ÏÏŒÎ½Î¿Ï‚ Î±Ï€ÏŒ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·</span>
          <strong>00:07</strong>
        </div>

        <div class="status-section">
          <div class="status-section-title">ğŸ“ ÎšÎ»Î®ÏƒÎµÎ¹Ï‚</div>
          <ul class="status-list">
            <li>
              <span>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ 1</span>
              <span class="status-pill-small">ÎšÎ±Î»ÎµÎ¯Ï„Î±Î¹â€¦</span>
            </li>
            <li>
              <span>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ 2</span>
              <span class="status-pill-small">Î£Îµ Î¿Ï…ÏÎ¬â€¦</span>
            </li>
            <li>
              <span>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ 3</span>
              <span class="status-pill-small">Î‘Ï€Î±Î½Ï„Î®Î¸Î·ÎºÎµ 14:33</span>
            </li>
          </ul>
        </div>

        <div class="status-section">
          <div class="status-section-title">ğŸ“© SMS</div>
          <ul class="status-list">
            <li>
              <span>SMS 1</span>
              <span class="status-pill-small">Î Î±ÏÎ±Î´ÏŒÎ¸Î·ÎºÎµ âœ”ï¸</span>
            </li>
            <li>
              <span>SMS 2</span>
              <span class="status-pill-small">Î£Îµ Î±Î½Î±Î¼Î¿Î½Î®â€¦</span>
            </li>
            <li>
              <span>SMS 3</span>
              <span class="status-pill-small">Î Î±ÏÎ±Î´ÏŒÎ¸Î·ÎºÎµ âœ”ï¸</span>
            </li>
          </ul>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      Â© Noctua AI Systems â€“ AI Incident Alert Î³Î¹Î± Security (V1)
    </footer>
  </div>

  <!-- Confirm modal -->
  <div class="modal-backdrop hidden">
    <div class="modal">
      <div class="modal-icon">âš ï¸</div>
      <div class="modal-title">Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· ÏƒÏ…Î½Î±Î³ÎµÏÎ¼Î¿Ï</div>
      <div class="modal-text">
        Î‘Î½ ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ, Î¸Î± ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Î¸Î¿ÏÎ½ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î¿Î¹ Ï€ÏÎ¿ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ ÎµÏ€Î±Ï†Î­Ï‚ (ÎºÎ»Î®ÏƒÎµÎ¹Ï‚ & SMS).
      </div>
      <div class="modal-countdown">5â€¦</div>
      <div class="modal-text">
        Î Î±Ï„Î®ÏƒÏ„Îµ <strong>ÎÎ±Î¹, ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·</strong> Î¼ÏŒÎ½Î¿ ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¿Ï Ï€ÎµÏÎ¹ÏƒÏ„Î±Ï„Î¹ÎºÎ¿Ï.
      </div>
      <div class="modal-actions">
        <button class="btn btn-secondary" type="button">Î‘ÎºÏÏÏ‰ÏƒÎ·</button>
        <button class="btn btn-primary" type="button">ÎÎ±Î¹, ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·</button>
      </div>
    </div>
  </div>

  <script>
    const $ = (s) => document.querySelector(s);

    const alertBtn        = $('.alert-btn');
    const statusCard      = $('.status-card');
    const modalBackdrop   = $('.modal-backdrop');
    const countdownEl     = $('.modal-countdown');
    const statusBadge     = document.querySelector('.status-badge');
    const timeFromStartEl = document.querySelector('.status-row strong');

    let countdownTimer = null;
    let activeTimer    = null;
    let startTimestamp = null;

    if (alertBtn) {
      alertBtn.addEventListener('click', () => {
        openConfirmModal();
      });
    }

    function openConfirmModal() {
      if (!modalBackdrop) return;
      modalBackdrop.classList.remove('hidden');
      startCountdown(5);
      attachModalHandlers();
    }

    function closeConfirmModal() {
      if (!modalBackdrop) return;
      modalBackdrop.classList.add('hidden');
      stopCountdown();
    }

    function attachModalHandlers() {
      const cancelButton  = document.querySelector('.btn.btn-secondary');
      const confirmButton = document.querySelector('.btn.btn-primary');

      if (cancelButton) {
        cancelButton.onclick = () => {
          closeConfirmModal();
        };
      }

      if (confirmButton) {
        confirmButton.onclick = async () => {
          closeConfirmModal();
          await handleAlertConfirmed();
        };
      }
    }

    function startCountdown(seconds) {
      if (!countdownEl) return;
      let remaining = seconds;
      countdownEl.textContent = `${remaining}â€¦`;

      countdownTimer = setInterval(() => {
        remaining--;
        if (remaining <= 0) {
          stopCountdown();
        } else {
          countdownEl.textContent = `${remaining}â€¦`;
        }
      }, 1000);
    }

    function stopCountdown() {
      if (countdownTimer) {
        clearInterval(countdownTimer);
        countdownTimer = null;
      }
    }

    async function handleAlertConfirmed() {
      if (statusCard) {
        statusCard.classList.remove('hidden');
      }

      startTimestamp = Date.now();
      startActiveTimer();

      if (statusBadge) {
        statusBadge.textContent = 'Î•Î¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÏƒÎµ ÎµÎ¾Î­Î»Î¹Î¾Î·';
      }

      try {
        await triggerAlert();
      } catch (err) {
        console.error('Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·:', err);
        if (statusBadge) {
          statusBadge.textContent = 'Î£Ï†Î¬Î»Î¼Î± â€“ Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹ Î­Î»ÎµÎ³Ï‡Î¿Ï‚';
        }
      }
    }

    function startActiveTimer() {
      if (!timeFromStartEl) return;

      activeTimer = setInterval(() => {
        if (!startTimestamp) return;
        const diffMs   = Date.now() - startTimestamp;
        const totalSec = Math.floor(diffMs / 1000);
        const mm       = String(Math.floor(totalSec / 60)).padStart(2, '0');
        const ss       = String(totalSec % 60).padStart(2, '0');
        timeFromStartEl.textContent = `${mm}:${ss}`;
      }, 1000);
    }

    async function triggerAlert() {
      const endpoint = 'https://YOUR-BACKEND-URL/api/trigger-alert';

      const payload = {
        siteId:      'SITE_123',
        guardId:     'GUARD_001',
        source:      'noctua-panic-webapp',
        triggeredAt: new Date().toISOString()
      };

      const response = await fetch(endpoint, {
        method:'POST',
        headers:{ 'Content-Type':'application/json' },
        body: JSON.stringify(payload)
      });

      if (!response.ok) {
        throw new Error('Alert request failed with status ' + response.status);
      }
    }
  </script>
</body>
</html>
